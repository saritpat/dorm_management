{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar React = require('react');\n\nvar core = require('@react-pdf-viewer/core');\n\nfunction _interopNamespace(e) {\n  if (e && e.__esModule) return e;\n  var n = Object.create(null);\n\n  if (e) {\n    Object.keys(e).forEach(function (k) {\n      if (k !== 'default') {\n        var d = Object.getOwnPropertyDescriptor(e, k);\n        Object.defineProperty(n, k, d.get ? d : {\n          enumerable: true,\n          get: function () {\n            return e[k];\n          }\n        });\n      }\n    });\n  }\n\n  n[\"default\"] = e;\n  return Object.freeze(n);\n}\n\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n\n\nvar __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar PropertiesLoader = function (_a) {\n  var doc = _a.doc,\n      render = _a.render;\n\n  var _b = React__namespace.useState(),\n      data = _b[0],\n      setData = _b[1];\n\n  React__namespace.useEffect(function () {\n    doc.getMetadata().then(function (meta) {\n      return Promise.resolve(meta);\n    }).then(function (meta) {\n      return doc.getDownloadInfo().then(function (d) {\n        return Promise.resolve({\n          fileName: meta.contentDispositionFilename || '',\n          info: meta.info,\n          length: d.length\n        });\n      });\n    }).then(function (response) {\n      setData(response);\n    });\n  }, []);\n  return data ? render(data) : React__namespace.createElement(\"div\", {\n    className: \"rpv-properties__loader\"\n  }, React__namespace.createElement(core.Spinner, null));\n};\n\nvar PropertyItem = function (_a) {\n  var label = _a.label,\n      value = _a.value;\n  var direction = React__namespace.useContext(core.ThemeContext).direction;\n  var isRtl = direction === core.TextDirection.RightToLeft;\n  return React__namespace.createElement(\"dl\", {\n    className: core.classNames({\n      'rpv-properties__item': true,\n      'rpv-properties__item--rtl': isRtl\n    })\n  }, React__namespace.createElement(\"dt\", {\n    className: \"rpv-properties__item-label\"\n  }, label, \":\"), React__namespace.createElement(\"dd\", {\n    className: \"rpv-properties__item-value\"\n  }, value || '-'));\n};\n\nvar dateRegex = new RegExp('^D:' + '(\\\\d{4})' + '(\\\\d{2})?' + '(\\\\d{2})?' + '(\\\\d{2})?' + '(\\\\d{2})?' + '(\\\\d{2})?' + '([Z|+|-])?' + '(\\\\d{2})?' + \"'?\" + '(\\\\d{2})?' + \"'?\");\n\nvar parse = function (value, min, max, defaultValue) {\n  var parsed = parseInt(value, 10);\n  return parsed >= min && parsed <= max ? parsed : defaultValue;\n};\n\nvar convertDate = function (input) {\n  var matches = dateRegex.exec(input);\n\n  if (!matches) {\n    return null;\n  }\n\n  var year = parseInt(matches[1], 10);\n  var month = parse(matches[2], 1, 12, 1) - 1;\n  var day = parse(matches[3], 1, 31, 1);\n  var hour = parse(matches[4], 0, 23, 0);\n  var minute = parse(matches[5], 0, 59, 0);\n  var second = parse(matches[6], 0, 59, 0);\n  var universalTimeRelation = matches[7] || 'Z';\n  var offsetHour = parse(matches[8], 0, 23, 0);\n  var offsetMinute = parse(matches[9], 0, 59, 0);\n\n  switch (universalTimeRelation) {\n    case '-':\n      hour += offsetHour;\n      minute += offsetMinute;\n      break;\n\n    case '+':\n      hour -= offsetHour;\n      minute -= offsetMinute;\n      break;\n  }\n\n  return new Date(Date.UTC(year, month, day, hour, minute, second));\n};\n\nvar getFileName = function (url) {\n  var str = url.split('/').pop();\n  return str ? str.split('#')[0].split('?')[0] : url;\n};\n\nvar getFileSize = function (bytes) {\n  var sufixes = ['B', 'kB', 'MB', 'GB', 'TB'];\n  var i = Math.floor(Math.log(bytes) / Math.log(1024));\n  return \"\".concat((bytes / Math.pow(1024, i)).toFixed(2), \" \").concat(sufixes[i]);\n};\n\nvar PropertiesModal = function (_a) {\n  var doc = _a.doc,\n      fileName = _a.fileName,\n      onToggle = _a.onToggle;\n  var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n\n  var formatDate = function (input) {\n    var date = convertDate(input);\n    return date ? \"\".concat(date.toLocaleDateString(), \", \").concat(date.toLocaleTimeString()) : '';\n  };\n\n  var renderData = function (data) {\n    return React__namespace.createElement(React__namespace.Fragment, null, React__namespace.createElement(\"div\", {\n      className: \"rpv-properties__modal-section\"\n    }, React__namespace.createElement(PropertyItem, {\n      label: l10n && l10n.properties ? l10n.properties.fileName : 'File name',\n      value: data.fileName || getFileName(fileName)\n    }), React__namespace.createElement(PropertyItem, {\n      label: l10n && l10n.properties ? l10n.properties.fileSize : 'File size',\n      value: getFileSize(data.length)\n    })), React__namespace.createElement(core.Separator, null), React__namespace.createElement(\"div\", {\n      className: \"rpv-properties__modal-section\"\n    }, React__namespace.createElement(PropertyItem, {\n      label: l10n && l10n.properties ? l10n.properties.title : 'Title',\n      value: data.info.Title\n    }), React__namespace.createElement(PropertyItem, {\n      label: l10n && l10n.properties ? l10n.properties.author : 'Author',\n      value: data.info.Author\n    }), React__namespace.createElement(PropertyItem, {\n      label: l10n && l10n.properties ? l10n.properties.subject : 'Subject',\n      value: data.info.Subject\n    }), React__namespace.createElement(PropertyItem, {\n      label: l10n && l10n.properties ? l10n.properties.keywords : 'Keywords',\n      value: data.info.Keywords\n    }), React__namespace.createElement(PropertyItem, {\n      label: l10n && l10n.properties ? l10n.properties.creator : 'Creator',\n      value: data.info.Creator\n    }), React__namespace.createElement(PropertyItem, {\n      label: l10n && l10n.properties ? l10n.properties.creationDate : 'Creation date',\n      value: formatDate(data.info.CreationDate)\n    }), React__namespace.createElement(PropertyItem, {\n      label: l10n && l10n.properties ? l10n.properties.modificationDate : 'Modification date',\n      value: formatDate(data.info.ModDate)\n    })), React__namespace.createElement(core.Separator, null), React__namespace.createElement(\"div\", {\n      className: \"rpv-properties__modal-section\"\n    }, React__namespace.createElement(PropertyItem, {\n      label: l10n && l10n.properties ? l10n.properties.pdfProducer : 'PDF producer',\n      value: data.info.Producer\n    }), React__namespace.createElement(PropertyItem, {\n      label: l10n && l10n.properties ? l10n.properties.pdfVersion : 'PDF version',\n      value: data.info.PDFFormatVersion\n    }), React__namespace.createElement(PropertyItem, {\n      label: l10n && l10n.properties ? l10n.properties.pageCount : 'Page count',\n      value: \"\".concat(doc.numPages)\n    })));\n  };\n\n  return React__namespace.createElement(\"div\", {\n    className: \"rpv-properties__modal\"\n  }, React__namespace.createElement(PropertiesLoader, {\n    doc: doc,\n    render: renderData\n  }), React__namespace.createElement(\"div\", {\n    className: \"rpv-properties__modal-footer\"\n  }, React__namespace.createElement(core.Button, {\n    onClick: onToggle\n  }, l10n && l10n.properties ? l10n.properties.close : 'Close')));\n};\n\nvar InfoIcon = function () {\n  return React__namespace.createElement(core.Icon, {\n    size: 16\n  }, React__namespace.createElement(\"path\", {\n    d: \"M12,1.001c6.075,0,11,4.925,11,11s-4.925,11-11,11s-11-4.925-11-11S5.925,1.001,12,1.001z\\n            M14.5,17.005H13\\n            c-0.552,0-1-0.448-1-1v-6.5c0-0.276-0.224-0.5-0.5-0.5H10\\n            M11.745,6.504L11.745,6.504\\n            M11.745,6.5c-0.138,0-0.25,0.112-0.25,0.25\\n            S11.607,7,11.745,7s0.25-0.112,0.25-0.25S11.883,6.5,11.745,6.5\"\n  }));\n};\n\nvar TOOLTIP_OFFSET = {\n  left: 0,\n  top: 8\n};\n\nvar ShowPropertiesButton = function (_a) {\n  var onClick = _a.onClick;\n  var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n  var label = l10n && l10n.properties ? l10n.properties.showProperties : 'Show properties';\n  return React__namespace.createElement(core.Tooltip, {\n    ariaControlsSuffix: \"properties\",\n    position: core.Position.BottomCenter,\n    target: React__namespace.createElement(core.MinimalButton, {\n      ariaLabel: label,\n      testId: \"properties__button\",\n      onClick: onClick\n    }, React__namespace.createElement(InfoIcon, null)),\n    content: function () {\n      return label;\n    },\n    offset: TOOLTIP_OFFSET\n  });\n};\n\nvar useDocument = function (store) {\n  var _a = React__namespace.useState(store.get('doc')),\n      currentDoc = _a[0],\n      setCurrentDoc = _a[1];\n\n  var handleDocumentChanged = function (doc) {\n    setCurrentDoc(doc);\n  };\n\n  React__namespace.useEffect(function () {\n    store.subscribe('doc', handleDocumentChanged);\n    return function () {\n      store.unsubscribe('doc', handleDocumentChanged);\n    };\n  }, []);\n  return {\n    currentDoc: currentDoc\n  };\n};\n\nvar ShowProperties = function (_a) {\n  var children = _a.children,\n      store = _a.store;\n  var currentDoc = useDocument(store).currentDoc;\n  var fileName = store.get('fileName') || '';\n\n  var defaultChildren = function (props) {\n    return React__namespace.createElement(ShowPropertiesButton, __assign({}, props));\n  };\n\n  var render = children || defaultChildren;\n  return currentDoc ? React__namespace.createElement(core.Modal, {\n    ariaControlsSuffix: \"properties\",\n    target: function (toggle) {\n      return render({\n        onClick: toggle\n      });\n    },\n    content: function (toggle) {\n      return React__namespace.createElement(PropertiesModal, {\n        doc: currentDoc,\n        fileName: fileName,\n        onToggle: toggle\n      });\n    },\n    closeOnClickOutside: true,\n    closeOnEscape: true\n  }) : React__namespace.createElement(React__namespace.Fragment, null);\n};\n\nvar ShowPropertiesMenuItem = function (_a) {\n  var onClick = _a.onClick;\n  var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\n  var label = l10n && l10n.properties ? l10n.properties.showProperties : 'Show properties';\n  return React__namespace.createElement(core.MenuItem, {\n    icon: React__namespace.createElement(InfoIcon, null),\n    testId: \"properties__menu\",\n    onClick: onClick\n  }, label);\n};\n\nvar propertiesPlugin = function () {\n  var store = React__namespace.useMemo(function () {\n    return core.createStore({\n      fileName: ''\n    });\n  }, []);\n\n  var ShowPropertiesDecorator = function (props) {\n    return React__namespace.createElement(ShowProperties, __assign({}, props, {\n      store: store\n    }));\n  };\n\n  var ShowPropertiesButtonDecorator = function () {\n    return React__namespace.createElement(ShowProperties, {\n      store: store\n    });\n  };\n\n  var ShowPropertiesMenuItemDecorator = function (props) {\n    return React__namespace.createElement(ShowPropertiesDecorator, null, function (p) {\n      return React__namespace.createElement(ShowPropertiesMenuItem, __assign({}, p));\n    });\n  };\n\n  return {\n    onDocumentLoad: function (props) {\n      store.update('doc', props.doc);\n    },\n    onViewerStateChange: function (viewerState) {\n      store.update('fileName', viewerState.file.name);\n      return viewerState;\n    },\n    ShowProperties: ShowPropertiesDecorator,\n    ShowPropertiesButton: ShowPropertiesButtonDecorator,\n    ShowPropertiesMenuItem: ShowPropertiesMenuItemDecorator\n  };\n};\n\nexports.InfoIcon = InfoIcon;\nexports.propertiesPlugin = propertiesPlugin;","map":{"version":3,"sources":["C:/Users/Sawid/Desktop/Asset/Project/dorm_management/node_modules/@react-pdf-viewer/properties/lib/cjs/properties.js"],"names":["Object","defineProperty","exports","value","React","require","core","_interopNamespace","e","__esModule","n","create","keys","forEach","k","d","getOwnPropertyDescriptor","get","enumerable","freeze","React__namespace","__assign","assign","t","s","i","arguments","length","p","prototype","hasOwnProperty","call","apply","PropertiesLoader","_a","doc","render","_b","useState","data","setData","useEffect","getMetadata","then","meta","Promise","resolve","getDownloadInfo","fileName","contentDispositionFilename","info","response","createElement","className","Spinner","PropertyItem","label","direction","useContext","ThemeContext","isRtl","TextDirection","RightToLeft","classNames","dateRegex","RegExp","parse","min","max","defaultValue","parsed","parseInt","convertDate","input","matches","exec","year","month","day","hour","minute","second","universalTimeRelation","offsetHour","offsetMinute","Date","UTC","getFileName","url","str","split","pop","getFileSize","bytes","sufixes","Math","floor","log","concat","pow","toFixed","PropertiesModal","onToggle","l10n","LocalizationContext","formatDate","date","toLocaleDateString","toLocaleTimeString","renderData","Fragment","properties","fileSize","Separator","title","Title","author","Author","subject","Subject","keywords","Keywords","creator","Creator","creationDate","CreationDate","modificationDate","ModDate","pdfProducer","Producer","pdfVersion","PDFFormatVersion","pageCount","numPages","Button","onClick","close","InfoIcon","Icon","size","TOOLTIP_OFFSET","left","top","ShowPropertiesButton","showProperties","Tooltip","ariaControlsSuffix","position","Position","BottomCenter","target","MinimalButton","ariaLabel","testId","content","offset","useDocument","store","currentDoc","setCurrentDoc","handleDocumentChanged","subscribe","unsubscribe","ShowProperties","children","defaultChildren","props","Modal","toggle","closeOnClickOutside","closeOnEscape","ShowPropertiesMenuItem","MenuItem","icon","propertiesPlugin","useMemo","createStore","ShowPropertiesDecorator","ShowPropertiesButtonDecorator","ShowPropertiesMenuItemDecorator","onDocumentLoad","update","onViewerStateChange","viewerState","file","name"],"mappings":"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","sourcesContent":["'use strict';\r\n\r\nObject.defineProperty(exports, '__esModule', { value: true });\r\n\r\nvar React = require('react');\r\nvar core = require('@react-pdf-viewer/core');\r\n\r\nfunction _interopNamespace(e) {\r\n    if (e && e.__esModule) return e;\r\n    var n = Object.create(null);\r\n    if (e) {\r\n        Object.keys(e).forEach(function (k) {\r\n            if (k !== 'default') {\r\n                var d = Object.getOwnPropertyDescriptor(e, k);\r\n                Object.defineProperty(n, k, d.get ? d : {\r\n                    enumerable: true,\r\n                    get: function () { return e[k]; }\r\n                });\r\n            }\r\n        });\r\n    }\r\n    n[\"default\"] = e;\r\n    return Object.freeze(n);\r\n}\r\n\r\nvar React__namespace = /*#__PURE__*/_interopNamespace(React);\r\n\r\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nvar PropertiesLoader = function (_a) {\r\n    var doc = _a.doc, render = _a.render;\r\n    var _b = React__namespace.useState(), data = _b[0], setData = _b[1];\r\n    React__namespace.useEffect(function () {\r\n        doc.getMetadata()\r\n            .then(function (meta) {\r\n            return Promise.resolve(meta);\r\n        })\r\n            .then(function (meta) {\r\n            return doc.getDownloadInfo().then(function (d) {\r\n                return Promise.resolve({\r\n                    fileName: meta.contentDispositionFilename || '',\r\n                    info: meta.info,\r\n                    length: d.length,\r\n                });\r\n            });\r\n        })\r\n            .then(function (response) {\r\n            setData(response);\r\n        });\r\n    }, []);\r\n    return data ? (render(data)) : (React__namespace.createElement(\"div\", { className: \"rpv-properties__loader\" },\r\n        React__namespace.createElement(core.Spinner, null)));\r\n};\r\n\r\nvar PropertyItem = function (_a) {\r\n    var label = _a.label, value = _a.value;\r\n    var direction = React__namespace.useContext(core.ThemeContext).direction;\r\n    var isRtl = direction === core.TextDirection.RightToLeft;\r\n    return (React__namespace.createElement(\"dl\", { className: core.classNames({\r\n            'rpv-properties__item': true,\r\n            'rpv-properties__item--rtl': isRtl,\r\n        }) },\r\n        React__namespace.createElement(\"dt\", { className: \"rpv-properties__item-label\" },\r\n            label,\r\n            \":\"),\r\n        React__namespace.createElement(\"dd\", { className: \"rpv-properties__item-value\" }, value || '-')));\r\n};\r\n\r\nvar dateRegex = new RegExp('^D:' +\r\n    '(\\\\d{4})' +\r\n    '(\\\\d{2})?' +\r\n    '(\\\\d{2})?' +\r\n    '(\\\\d{2})?' +\r\n    '(\\\\d{2})?' +\r\n    '(\\\\d{2})?' +\r\n    '([Z|+|-])?' +\r\n    '(\\\\d{2})?' +\r\n    \"'?\" +\r\n    '(\\\\d{2})?' +\r\n    \"'?\");\r\nvar parse = function (value, min, max, defaultValue) {\r\n    var parsed = parseInt(value, 10);\r\n    return parsed >= min && parsed <= max ? parsed : defaultValue;\r\n};\r\nvar convertDate = function (input) {\r\n    var matches = dateRegex.exec(input);\r\n    if (!matches) {\r\n        return null;\r\n    }\r\n    var year = parseInt(matches[1], 10);\r\n    var month = parse(matches[2], 1, 12, 1) - 1;\r\n    var day = parse(matches[3], 1, 31, 1);\r\n    var hour = parse(matches[4], 0, 23, 0);\r\n    var minute = parse(matches[5], 0, 59, 0);\r\n    var second = parse(matches[6], 0, 59, 0);\r\n    var universalTimeRelation = matches[7] || 'Z';\r\n    var offsetHour = parse(matches[8], 0, 23, 0);\r\n    var offsetMinute = parse(matches[9], 0, 59, 0);\r\n    switch (universalTimeRelation) {\r\n        case '-':\r\n            hour += offsetHour;\r\n            minute += offsetMinute;\r\n            break;\r\n        case '+':\r\n            hour -= offsetHour;\r\n            minute -= offsetMinute;\r\n            break;\r\n    }\r\n    return new Date(Date.UTC(year, month, day, hour, minute, second));\r\n};\r\n\r\nvar getFileName = function (url) {\r\n    var str = url.split('/').pop();\r\n    return str ? str.split('#')[0].split('?')[0] : url;\r\n};\r\n\r\nvar getFileSize = function (bytes) {\r\n    var sufixes = ['B', 'kB', 'MB', 'GB', 'TB'];\r\n    var i = Math.floor(Math.log(bytes) / Math.log(1024));\r\n    return \"\".concat((bytes / Math.pow(1024, i)).toFixed(2), \" \").concat(sufixes[i]);\r\n};\r\n\r\nvar PropertiesModal = function (_a) {\r\n    var doc = _a.doc, fileName = _a.fileName, onToggle = _a.onToggle;\r\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\r\n    var formatDate = function (input) {\r\n        var date = convertDate(input);\r\n        return date ? \"\".concat(date.toLocaleDateString(), \", \").concat(date.toLocaleTimeString()) : '';\r\n    };\r\n    var renderData = function (data) { return (React__namespace.createElement(React__namespace.Fragment, null,\r\n        React__namespace.createElement(\"div\", { className: \"rpv-properties__modal-section\" },\r\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties\r\n                    ? l10n.properties.fileName\r\n                    : 'File name', value: data.fileName || getFileName(fileName) }),\r\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties\r\n                    ? l10n.properties.fileSize\r\n                    : 'File size', value: getFileSize(data.length) })),\r\n        React__namespace.createElement(core.Separator, null),\r\n        React__namespace.createElement(\"div\", { className: \"rpv-properties__modal-section\" },\r\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties ? l10n.properties.title : 'Title', value: data.info.Title }),\r\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties ? l10n.properties.author : 'Author', value: data.info.Author }),\r\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties ? l10n.properties.subject : 'Subject', value: data.info.Subject }),\r\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties ? l10n.properties.keywords : 'Keywords', value: data.info.Keywords }),\r\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties ? l10n.properties.creator : 'Creator', value: data.info.Creator }),\r\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties\r\n                    ? l10n.properties.creationDate\r\n                    : 'Creation date', value: formatDate(data.info.CreationDate) }),\r\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties\r\n                    ? l10n.properties.modificationDate\r\n                    : 'Modification date', value: formatDate(data.info.ModDate) })),\r\n        React__namespace.createElement(core.Separator, null),\r\n        React__namespace.createElement(\"div\", { className: \"rpv-properties__modal-section\" },\r\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties\r\n                    ? l10n.properties.pdfProducer\r\n                    : 'PDF producer', value: data.info.Producer }),\r\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties\r\n                    ? l10n.properties.pdfVersion\r\n                    : 'PDF version', value: data.info.PDFFormatVersion }),\r\n            React__namespace.createElement(PropertyItem, { label: l10n && l10n.properties\r\n                    ? l10n.properties.pageCount\r\n                    : 'Page count', value: \"\".concat(doc.numPages) })))); };\r\n    return (React__namespace.createElement(\"div\", { className: \"rpv-properties__modal\" },\r\n        React__namespace.createElement(PropertiesLoader, { doc: doc, render: renderData }),\r\n        React__namespace.createElement(\"div\", { className: \"rpv-properties__modal-footer\" },\r\n            React__namespace.createElement(core.Button, { onClick: onToggle }, l10n && l10n.properties ? l10n.properties.close : 'Close'))));\r\n};\r\n\r\nvar InfoIcon = function () { return (React__namespace.createElement(core.Icon, { size: 16 },\r\n    React__namespace.createElement(\"path\", { d: \"M12,1.001c6.075,0,11,4.925,11,11s-4.925,11-11,11s-11-4.925-11-11S5.925,1.001,12,1.001z\\n            M14.5,17.005H13\\n            c-0.552,0-1-0.448-1-1v-6.5c0-0.276-0.224-0.5-0.5-0.5H10\\n            M11.745,6.504L11.745,6.504\\n            M11.745,6.5c-0.138,0-0.25,0.112-0.25,0.25\\n            S11.607,7,11.745,7s0.25-0.112,0.25-0.25S11.883,6.5,11.745,6.5\" }))); };\r\n\r\nvar TOOLTIP_OFFSET = { left: 0, top: 8 };\r\nvar ShowPropertiesButton = function (_a) {\r\n    var onClick = _a.onClick;\r\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\r\n    var label = l10n && l10n.properties ? l10n.properties.showProperties : 'Show properties';\r\n    return (React__namespace.createElement(core.Tooltip, { ariaControlsSuffix: \"properties\", position: core.Position.BottomCenter, target: React__namespace.createElement(core.MinimalButton, { ariaLabel: label, testId: \"properties__button\", onClick: onClick },\r\n            React__namespace.createElement(InfoIcon, null)), content: function () { return label; }, offset: TOOLTIP_OFFSET }));\r\n};\r\n\r\nvar useDocument = function (store) {\r\n    var _a = React__namespace.useState(store.get('doc')), currentDoc = _a[0], setCurrentDoc = _a[1];\r\n    var handleDocumentChanged = function (doc) {\r\n        setCurrentDoc(doc);\r\n    };\r\n    React__namespace.useEffect(function () {\r\n        store.subscribe('doc', handleDocumentChanged);\r\n        return function () {\r\n            store.unsubscribe('doc', handleDocumentChanged);\r\n        };\r\n    }, []);\r\n    return { currentDoc: currentDoc };\r\n};\r\n\r\nvar ShowProperties = function (_a) {\r\n    var children = _a.children, store = _a.store;\r\n    var currentDoc = useDocument(store).currentDoc;\r\n    var fileName = store.get('fileName') || '';\r\n    var defaultChildren = function (props) { return React__namespace.createElement(ShowPropertiesButton, __assign({}, props)); };\r\n    var render = children || defaultChildren;\r\n    return currentDoc ? (React__namespace.createElement(core.Modal, { ariaControlsSuffix: \"properties\", target: function (toggle) {\r\n            return render({\r\n                onClick: toggle,\r\n            });\r\n        }, content: function (toggle) { return React__namespace.createElement(PropertiesModal, { doc: currentDoc, fileName: fileName, onToggle: toggle }); }, closeOnClickOutside: true, closeOnEscape: true })) : (React__namespace.createElement(React__namespace.Fragment, null));\r\n};\r\n\r\nvar ShowPropertiesMenuItem = function (_a) {\r\n    var onClick = _a.onClick;\r\n    var l10n = React__namespace.useContext(core.LocalizationContext).l10n;\r\n    var label = l10n && l10n.properties ? l10n.properties.showProperties : 'Show properties';\r\n    return (React__namespace.createElement(core.MenuItem, { icon: React__namespace.createElement(InfoIcon, null), testId: \"properties__menu\", onClick: onClick }, label));\r\n};\r\n\r\nvar propertiesPlugin = function () {\r\n    var store = React__namespace.useMemo(function () {\r\n        return core.createStore({\r\n            fileName: '',\r\n        });\r\n    }, []);\r\n    var ShowPropertiesDecorator = function (props) { return React__namespace.createElement(ShowProperties, __assign({}, props, { store: store })); };\r\n    var ShowPropertiesButtonDecorator = function () { return React__namespace.createElement(ShowProperties, { store: store }); };\r\n    var ShowPropertiesMenuItemDecorator = function (props) { return (React__namespace.createElement(ShowPropertiesDecorator, null, function (p) { return React__namespace.createElement(ShowPropertiesMenuItem, __assign({}, p)); })); };\r\n    return {\r\n        onDocumentLoad: function (props) {\r\n            store.update('doc', props.doc);\r\n        },\r\n        onViewerStateChange: function (viewerState) {\r\n            store.update('fileName', viewerState.file.name);\r\n            return viewerState;\r\n        },\r\n        ShowProperties: ShowPropertiesDecorator,\r\n        ShowPropertiesButton: ShowPropertiesButtonDecorator,\r\n        ShowPropertiesMenuItem: ShowPropertiesMenuItemDecorator,\r\n    };\r\n};\r\n\r\nexports.InfoIcon = InfoIcon;\r\nexports.propertiesPlugin = propertiesPlugin;\r\n"]},"metadata":{},"sourceType":"script"}